# 오늘의 복습

Skillnote의 오늘의 복습 기능은 간격 반복(Spaced Repetition) 원리에 따라 복습이 필요한 날에 자동으로 문제를 제시합니다. 오늘 복습해야 할 게시물과 질문 목록이 한 페이지에 모두 표시되며, 학습할 게시물을 직접 선택한 뒤 세션을 시작할 수 있습니다.

---

## 화면 상태 흐름

오늘의 복습 페이지는 상황에 따라 다음 다섯 가지 상태 중 하나로 표시됩니다.

---

## 상태 1: 불러오는 중

페이지에 처음 진입하면 서버에서 오늘의 복습 데이터를 가져오는 동안 로딩 화면이 표시됩니다.

- 스피너 애니메이션과 함께 **"불러오는 중..."** 텍스트가 표시됩니다.
- 이 상태에서는 다른 UI 요소를 조작할 수 없습니다.

---

## 상태 2: 오늘 복습 없음

오늘 답변해야 할 질문이 없으면 빈 화면 안내가 표시됩니다.

- **"오늘 답변할 질문이 없습니다"**
- **"새로운 학습을 기록하면 질문이 생성됩니다."**

게시물을 꾸준히 작성하면 간격 반복 알고리즘에 의해 복습 주기가 자동으로 생성되고, 이후 매일 복습 질문이 나타나기 시작합니다.

---

## 상태 3: 커버 페이지 (세션 시작 전)

복습 데이터가 있으면 커버 페이지가 표시됩니다. 세션을 시작하기 전에 오늘의 복습 내용을 한눈에 확인하고, 학습할 게시물을 직접 선택할 수 있습니다.

### 커버 페이지 구성 요소

**상단 영역**

- 책 스택 아이콘과 함께 **"오늘의 복습"** 제목이 표시됩니다.
- 게시물을 1개 이상 선택하면 **"{N}개 세트"** 배지가 제목 옆에 나타납니다.
- 선택된 게시물들의 질문을 모두 합산한 **"{N}개 질문"** 총 개수가 표시됩니다.

**진행률 섹션**

- **"오늘 진행률"** 레이블 아래에 이미 답변한 문제 수와 전체 문제 수가 **"answered/total"** 형식으로 표시됩니다.
- 그 아래에 진행률 바가 표시되어 오늘 전체 복습 중 얼마나 완료했는지 시각적으로 확인할 수 있습니다.

**복습 시작 버튼**

- 재생 삼각형(▶) 아이콘이 포함된 **"복습 시작"** 버튼으로 세션을 시작합니다.
- 게시물을 1개도 선택하지 않은 상태에서 버튼을 누르면 버튼이 비활성화되거나, 클릭 시 **"학습할 게시물을 1개 이상 선택해주세요"** 토스트 메시지가 표시됩니다.

### 게시물 목록

커버 페이지 하단에는 오늘 복습 대상 게시물 목록이 표시됩니다.

각 게시물 항목에는 다음 정보가 포함됩니다.

| 요소 | 설명 |
|------|------|
| 선택 토글 | 클릭으로 해당 게시물을 복습 세션에 포함하거나 제외합니다. |
| **D+{N}** 배지 | 게시물 작성 후 며칠이 지났는지 표시합니다. 예: D+7은 작성 후 7일째입니다. |
| 게시물 제목 | 질문이 생성된 원본 게시물의 제목입니다. |
| **{N}개 질문** | 해당 게시물에서 생성된 질문의 개수입니다. |

기본적으로 모든 게시물이 선택된 상태로 표시되며, 개별 항목을 클릭해 포함 여부를 조정할 수 있습니다. 특정 게시물을 제외하면 상단의 총 질문 수와 세트 배지도 함께 갱신됩니다.

---

## 상태 4: 학습 모드 (세션 진행 중)

**"복습 시작"** 버튼을 누르면 학습 모드로 전환되고 질문이 하나씩 표시됩니다.

### 상단 진행 바 및 컨트롤

| 위치 | 요소 | 동작 |
|------|------|------|
| 좌측 | **이전** (chevron-left ‹) | 이전 문제로 이동합니다. 첫 번째 문제에서는 비활성화됩니다. |
| 중앙 좌측 | **종료하기** | 세션 종료 확인 모달을 표시합니다. |
| 중앙 | **진행률** | "{current}/{total}" 형식과 진행률 바로 현재 위치를 표시합니다. |
| 중앙 우측 | **건너뛰기** | 현재 문제를 건너뛰고 다음으로 이동합니다. |
| 우측 | **다음** (chevron-right ›) 또는 **완료** (체크마크) | 답변을 입력하지 않으면 **다음** 버튼이 비활성화됩니다. 마지막 문제에서는 **다음** 대신 **완료** 버튼이 표시됩니다. |

### 질문 카드 구성

각 질문 카드에는 다음 정보가 표시됩니다.

- **문제 유형 배지**: 질문의 유형을 나타냅니다 (예: OX 퀴즈, 객관식 등).
- **출처 게시물 제목**: 이 질문이 생성된 원본 게시물 제목입니다.
- **난이도 별점**: 5개의 별(★☆)로 난이도를 표시합니다. 채워진 별이 많을수록 어려운 문제입니다.
- **질문 내용 및 답변 영역**: 문제 유형에 따라 답변 방식이 달라집니다. 자세한 내용은 [질문 유형](question-types.md) 문서를 참고하세요.

### 원본 게시물 보기 (모바일)

모바일 환경에서는 화면 우측 하단에 책 열기(bookOpen) 모양의 FAB(Floating Action Button)이 표시됩니다. 이 버튼을 누르면 원본 게시물 내용이 모달 형태로 열립니다. 모달 내 **"닫기"** 버튼을 눌러 모달을 닫을 수 있습니다.

### 세션 종료 확인 모달

진행 중에 **"종료하기"** 버튼을 누르면 종료 확인 모달이 표시됩니다.

- **"학습을 종료하시겠습니까?"**
- **"현재까지 푼 문제들로 결과를 확인합니다."**
- **"계속 풀기"** 버튼: 모달을 닫고 세션을 이어서 진행합니다.
- **"종료하기"** 버튼: 현재까지 입력한 답변을 제출하고 채점을 시작합니다.

---

## 상태 5: 채점 중

마지막 질문에서 **완료** 버튼을 누르거나 종료 확인 모달에서 **"종료하기"**를 선택하면 채점 화면으로 전환됩니다.

- 애니메이션 스피너와 함께 **"채점 중..."** 텍스트가 표시됩니다.
- **"답변을 분석하고 있습니다. 잠시만 기다려주세요."** 안내 문구가 표시됩니다.
- 세 개의 점(•••) 애니메이션이 함께 표시됩니다.

OX 퀴즈, 객관식, 빈칸 채우기는 즉시 자동 채점되고, 단답형과 적용형은 AI가 의미적으로 평가하므로 문제 수에 따라 수 초에서 십수 초가 소요될 수 있습니다. 채점이 완료되면 자동으로 결과 페이지로 이동합니다.

---

## 전체 흐름 요약

```
페이지 진입
    ↓
[불러오는 중...] 로딩 스피너
    ↓
질문 없음? → "오늘 답변할 질문이 없습니다" 안내 표시
    ↓
질문 있음? → 커버 페이지 (게시물 선택 + 복습 시작)
    ↓
[복습 시작] 클릭 → 학습 모드 (질문 카드 순차 진행)
    ↓
마지막 문제 [완료] 또는 [종료하기] → 채점 중...
    ↓
결과 페이지로 자동 이동
```
